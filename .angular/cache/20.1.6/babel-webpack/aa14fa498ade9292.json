{"ast":null,"code":"import { CommonModule } from \"@angular/common\";\nimport { MatTableDataSource, MatTableModule } from \"@angular/material/table\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cosf.service\";\nimport * as i2 from \"@angular/material/table\";\nfunction StandingComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" No. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StandingComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r1 = ctx.index;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i_r1 + 1, \" \");\n  }\n}\nfunction StandingComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1, \"\\u00C9quipe\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StandingComponent_td_16_Conditional_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 26);\n    i0.ɵɵelementStart(1, \"span\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    const element_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", \"/images/\" + ((tmp_3_0 = ctx_r2.getTeamFromCache(element_r2.teamId)) == null ? null : tmp_3_0.name) + \".png\", i0.ɵɵsanitizeUrl)(\"alt\", ((tmp_4_0 = ctx_r2.getTeamFromCache(element_r2.teamId)) == null ? null : tmp_4_0.name) || \"Team\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (tmp_5_0 = ctx_r2.getTeamFromCache(element_r2.teamId)) == null ? null : tmp_5_0.name, \" \");\n  }\n}\nfunction StandingComponent_td_16_Conditional_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 28);\n    i0.ɵɵelementStart(1, \"span\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    const element_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (tmp_3_0 = ctx_r2.getTeamFromCache(element_r2.teamId)) == null ? null : tmp_3_0.name, \" \");\n  }\n}\nfunction StandingComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 25);\n    i0.ɵɵconditionalCreate(2, StandingComponent_td_16_Conditional_2_Template, 3, 3)(3, StandingComponent_td_16_Conditional_3_Template, 3, 1);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    const element_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(((tmp_2_0 = ctx_r2.getTeamFromCache(element_r2.teamId)) == null ? null : tmp_2_0.name) && element_r2.teamId !== 2 ? 2 : 3);\n  }\n}\nfunction StandingComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Points\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r4.points, \" \");\n  }\n}\nfunction StandingComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Victoires\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r5.wins, \" \");\n  }\n}\nfunction StandingComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"D\\u00E9faites\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r6.losses, \" \");\n  }\n}\nfunction StandingComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Nul\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r7.draws, \" \");\n  }\n}\nfunction StandingComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"+\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r8.pointScored, \" \");\n  }\n}\nfunction StandingComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StandingComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", element_r9.pointAgainst, \" \");\n  }\n}\nfunction StandingComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nfunction StandingComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 31);\n  }\n}\nexport let StandingComponent = /*#__PURE__*/(() => {\n  class StandingComponent {\n    cosfService;\n    cdr;\n    displayedColumns = [\"position\", \"equipe\", \"points\", \"wins\", \"losses\", \"draws\", \"pointScored\", \"pointAgainst\"];\n    dataSource = new MatTableDataSource();\n    standingSeason = [];\n    subscriptions = [];\n    nameLogo = \"logo_basket1\";\n    // Cache teams by ID to avoid repeated API calls\n    teamsCache = {};\n    constructor(cosfService, cdr) {\n      this.cosfService = cosfService;\n      this.cdr = cdr;\n    }\n    ngOnInit() {\n      this.getStandingBySeason(2);\n    }\n    getTeamFromCache(id) {\n      return this.teamsCache[id];\n    }\n    loadTeam(id) {\n      if (!this.teamsCache[id] && id) {\n        let subscription = this.cosfService.getTeamById(id).subscribe(response => {\n          this.teamsCache[id] = response;\n          this.cdr.markForCheck(); // Trigger change detection when team data is loaded\n        }, error => {\n          console.error(\"Error fetching team: \" + error.message);\n        });\n        this.subscriptions.push(subscription);\n      }\n    }\n    loadTeamsForStanding() {\n      this.standingSeason.forEach(classement => {\n        if (classement.teamId) {\n          this.loadTeam(classement.teamId);\n        }\n      });\n    }\n    getStandingBySeason(seasonId) {\n      // Clear previous data\n      this.standingSeason = [];\n      this.dataSource.data = [];\n      this.teamsCache = {};\n      const subscription = this.cosfService.getStandingBySeasonId(seasonId).subscribe(response => {\n        this.standingSeason = response;\n        this.dataSource.data = response;\n        this.loadTeamsForStanding();\n        this.cdr.markForCheck();\n      }, error => {\n        console.error(error.message);\n      });\n      this.subscriptions.push(subscription);\n    }\n    ngOnDestroy() {\n      // Clean up subscriptions to prevent memory leaks\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n    static ɵfac = function StandingComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || StandingComponent)(i0.ɵɵdirectiveInject(i1.CosfService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StandingComponent,\n      selectors: [[\"app-standing\"]],\n      decls: 37,\n      vars: 3,\n      consts: [[1, \"flex\", \"flex-col\", \"gap-4\", \"sm:gap-8\", \"justify-center\", \"items-center\", \"p-2\", \"sm:p-4\", \"w-full\"], [1, \"font-serif\", \"font-bold\", \"text-black\", \"text-2xl\", \"sm:text-3xl\", \"mb-4\", \"sm:mb-6\", \"text-center\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"items-center\", \"justify-center\", \"gap-3\", \"sm:gap-6\", \"mt-2\", \"sm:mt-4\", \"w-full\", \"max-w-4xl\"], [1, \"bg-black\", \"font-serif\", \"font-bold\", \"text-white\", \"text-sm\", \"sm:text-lg\", \"px-4\", \"sm:px-6\", \"py-2\", \"sm:py-3\", \"rounded-full\", \"hover:bg-gray-800\", \"transition-colors\", \"duration-300\", \"shadow-lg\", \"hover:shadow-xl\", \"w-full\", \"sm:w-auto\", 3, \"click\"], [1, \"w-full\", \"flex\", \"justify-center\", \"px-2\", \"sm:px-4\"], [1, \"overflow-hidden\", \"rounded-2xl\", \"shadow-lg\", \"max-w-8xl\", \"w-full\", \"overflow-x-auto\", \"mb-8\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"position\"], [\"mat-header-cell\", \"\", \"class\", \"bg-gray-100 font-bold text-center border-r border-gray-200 px-2 py-3\", 4, \"matHeaderCellDef\"], [\"class\", \"font-bold text-center border-r border-gray-200 py-3 px-2\", \"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"equipe\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"points\"], [\"matColumnDef\", \"wins\"], [\"matColumnDef\", \"losses\"], [\"matColumnDef\", \"draws\"], [\"matColumnDef\", \"pointScored\"], [\"matColumnDef\", \"pointAgainst\"], [\"mat-header-row\", \"\", \"class\", \"border-b-2 border-gray-300\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\", 1, \"bg-gray-100\", \"font-bold\", \"text-center\", \"border-r\", \"border-gray-200\", \"px-2\", \"py-3\"], [\"mat-cell\", \"\", 1, \"font-bold\", \"text-center\", \"border-r\", \"border-gray-200\", \"py-3\", \"px-2\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"flex\", \"flex-row\", \"gap-5\", \"items-center\", \"justify-start\"], [1, \"w-12\", \"h-12\", \"sm:w-12\", \"sm:h-12\", \"rounded-full\", 3, \"src\", \"alt\"], [1, \"text-black\", \"font-serif\", \"text-xs\", \"sm:text-sm\", \"font-bold\", \"text-center\"], [\"src\", \"/images/cosf_logo.jpeg\", 1, \"w-12\", \"h-12\", \"sm:w-12\", \"sm:h-12\", \"rounded-full\"], [1, \"text-center\"], [\"mat-header-row\", \"\", 1, \"border-b-2\", \"border-gray-300\"], [\"mat-row\", \"\", 1, \"hover:bg-gray-50\", \"transition-colors\", \"duration-200\", \"border-b\", \"border-gray-100\"]],\n      template: function StandingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \" Classement \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function StandingComponent_Template_button_click_4_listener() {\n            return ctx.getStandingBySeason(1);\n          });\n          i0.ɵɵtext(5, \" Poule Basse \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function StandingComponent_Template_button_click_6_listener() {\n            return ctx.getStandingBySeason(2);\n          });\n          i0.ɵɵtext(7, \" Poule Haute \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"table\", 6);\n          i0.ɵɵelementContainerStart(11, 7);\n          i0.ɵɵtemplate(12, StandingComponent_th_12_Template, 2, 0, \"th\", 8)(13, StandingComponent_td_13_Template, 2, 1, \"td\", 9);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(14, 10);\n          i0.ɵɵtemplate(15, StandingComponent_th_15_Template, 2, 0, \"th\", 11)(16, StandingComponent_td_16_Template, 4, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(17, 13);\n          i0.ɵɵtemplate(18, StandingComponent_th_18_Template, 3, 0, \"th\", 11)(19, StandingComponent_td_19_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(20, 14);\n          i0.ɵɵtemplate(21, StandingComponent_th_21_Template, 3, 0, \"th\", 11)(22, StandingComponent_td_22_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(23, 15);\n          i0.ɵɵtemplate(24, StandingComponent_th_24_Template, 3, 0, \"th\", 11)(25, StandingComponent_td_25_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(26, 16);\n          i0.ɵɵtemplate(27, StandingComponent_th_27_Template, 3, 0, \"th\", 11)(28, StandingComponent_td_28_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(29, 17);\n          i0.ɵɵtemplate(30, StandingComponent_th_30_Template, 3, 0, \"th\", 11)(31, StandingComponent_td_31_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(32, 18);\n          i0.ɵɵtemplate(33, StandingComponent_th_33_Template, 3, 0, \"th\", 11)(34, StandingComponent_td_34_Template, 3, 1, \"td\", 12);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(35, StandingComponent_tr_35_Template, 1, 0, \"tr\", 19)(36, StandingComponent_tr_36_Template, 1, 0, \"tr\", 20);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        }\n      },\n      dependencies: [CommonModule, MatTableModule, i2.MatTable, i2.MatHeaderCellDef, i2.MatHeaderRowDef, i2.MatColumnDef, i2.MatCellDef, i2.MatRowDef, i2.MatHeaderCell, i2.MatCell, i2.MatHeaderRow, i2.MatRow],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return StandingComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}